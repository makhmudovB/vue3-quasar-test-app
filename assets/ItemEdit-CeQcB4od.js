import{R as b,_ as f,j as N,S as V,T as c,U as n,V as y,W as t,$ as Q,I as s,F as U,a0 as D}from"./index-XoMBkulb.js";import{b as I,Q as B,d as g}from"./items-BWDsqsga.js";import{Q as h}from"./QForm-Bb5X_ECi.js";const x=b({__name:"ItemEdit",props:{id:{}},setup(d){const i=["Фронтенд","Бэкенд","UI Дизайнер","DevOps","Проектный менеджер"],u=d,r=I(),m=f(),l=D({fullName:"",birthDate:"",profession:"",docNumber:"",phoneNumber:""});N(async()=>{const a=r.getById(Number(u.id));if(!a){await m.push("/items");return}Object.assign(l,{fullName:a.fullName,birthDate:a.birthDate,profession:a.profession,docNumber:a.docNumber,phoneNumber:a.phoneNumber})});async function p(){r.update(Number(u.id),l),await m.push("/items")}return(a,o)=>(V(),c(g,{padding:""},{default:n(()=>[o[5]||(o[5]=y("div",{class:"text-h6 q-mb-md"},"Редактирование пользователя",-1)),t(h,{onSubmit:Q(p,["prevent"])},{default:n(()=>[t(s,{modelValue:l.fullName,"onUpdate:modelValue":o[0]||(o[0]=e=>l.fullName=e),label:"Ф.И.О.",clearable:"",outlined:"","lazy-rules":"",rules:[e=>!!e||"Обязательное поле"]},null,8,["modelValue","rules"]),t(s,{modelValue:l.birthDate,"onUpdate:modelValue":o[1]||(o[1]=e=>l.birthDate=e),type:"date",label:"Дата рождения",outlined:"",clearable:"","lazy-rules":"",rules:[e=>!!e||"Обязательное поле"]},null,8,["modelValue","rules"]),t(B,{outlined:"",modelValue:l.profession,"onUpdate:modelValue":o[2]||(o[2]=e=>l.profession=e),options:i,clearable:"",label:"Профессия","lazy-rules":"",rules:[e=>!!e||"Обязательное поле"]},null,8,["modelValue","rules"]),t(s,{modelValue:l.docNumber,"onUpdate:modelValue":o[3]||(o[3]=e=>l.docNumber=e),label:"Номер документа",outlined:"",clearable:"","lazy-rules":"",rules:[e=>!!e||"Обязательное поле"]},null,8,["modelValue","rules"]),t(s,{modelValue:l.phoneNumber,"onUpdate:modelValue":o[4]||(o[4]=e=>l.phoneNumber=e),label:"Номер телефона",outlined:"",mask:"+998 (##) ###-##-##","fill-mask":""},null,8,["modelValue"]),t(U,{type:"submit",color:"primary",label:"Редактировать",class:"q-mt-md"})]),_:1})]),_:1}))}});export{x as default};
